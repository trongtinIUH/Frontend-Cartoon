{"version":3,"file":"static/js/876.103ebc20.chunk.js","mappings":"8MAOe,SAASA,EAAcC,GAA0B,IAAzB,QAAEC,EAAO,UAAEC,GAAWF,EAC3D,MAAOG,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,aAC1BG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,GAqBvC,OACEK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAqCG,MAAO,CAACC,SAAU,KAAKH,SAAA,EACzEC,EAAAA,EAAAA,MAAA,MAAIF,UAAU,wCAAuCC,SAAA,EACnDF,EAAAA,EAAAA,KAACM,EAAAA,IAAM,CAACL,UAAU,SAAS,gDAI7BE,EAAAA,EAAAA,MAAA,QAAMI,SA3BGC,UAEb,GADAC,EAAEC,iBACGjB,EAAKkB,OAAV,CAKAZ,GAAW,GACX,UACQa,EAAAA,EAAcC,aAAa,CAAEpB,KAAMA,EAAKkB,OAAQG,WAAYlB,EAAMmB,QAAS,KACjFC,EAAAA,GAAMC,QAAQ,6CACL,OAATzB,QAAS,IAATA,GAAAA,GACF,CAAE,MAAOiB,GACPO,EAAAA,GAAME,MAAM,uCAAyB,OAADT,QAAC,IAADA,OAAC,EAADA,EAAGU,UAAW,6BACpD,CAAC,QACCpB,GAAW,EACb,CAXA,MAFEiB,EAAAA,GAAME,MAAM,kCAwBcjB,UAAU,UAASC,SAAA,EACzCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,yBAAwBC,SAAA,EACvCF,EAAAA,EAAAA,KAACoB,EAAAA,IAAM,CAACnB,UAAU,SAAS,gDAE7BD,EAAAA,EAAAA,KAAA,SACEqB,KAAK,OACLpB,UAAU,eACVqB,MAAO7B,EACP8B,SAAUd,GAAGf,EAAQe,EAAEe,OAAOF,OAC9BG,YAAY,sBACZC,UAAQ,EACRC,UAAW,UAIfxB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,yBAAwBC,SAAA,EACvCF,EAAAA,EAAAA,KAAC4B,EAAAA,IAAS,CAAC3B,UAAU,SAAS,kBAEhCE,EAAAA,EAAAA,MAAA,UACEF,UAAU,cACVqB,MAAO1B,EACP2B,SAAUd,GAAGZ,EAAQY,EAAEe,OAAOF,OAAOpB,SAAA,EAErCF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,WAAUpB,SAAC,6BACzBF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,YAAWpB,SAAC,6BAI9BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2BAA0BC,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UACEC,UAAU,oCACVoB,KAAK,SACLQ,SAAU/B,EAAQI,SAEjBJ,GACCK,EAAAA,EAAAA,MAAA2B,EAAAA,SAAA,CAAA5B,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,wCAAwCL,KAAK,WAAgB,0BAI/E,sBAGJI,EAAAA,EAAAA,KAAA,UACEqB,KAAK,SACLpB,UAAU,8CACV8B,QAASxC,EACTsC,SAAU/B,EAAQI,SACnB,uBAQb,C","sources":["models/ModelAddAuthor.jsx"],"sourcesContent":["// src/models/ModelAddAuthor.jsx\r\nimport React, { useState } from \"react\";\r\nimport AuthorService from \"../services/AuthorService\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FaUser, FaUserTie, FaPlus } from \"react-icons/fa\";\r\nimport \"../css/ModelAddMovie.css\";\r\n\r\nexport default function ModelAddAuthor({ onClose, onSuccess }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [role, setRole] = useState(\"DIRECTOR\");\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const submit = async (e)=>{\r\n    e.preventDefault();\r\n    if (!name.trim()) {\r\n      toast.error(\"Vui lòng nhập tên!\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n      await AuthorService.createAuthor({ name: name.trim(), authorRole: role, movieId: [] });\r\n      toast.success(\"Thêm tác giả thành công!\");\r\n      onSuccess?.();\r\n    } catch (e) { \r\n      toast.error(\"Lỗi thêm tác giả: \" + (e?.message || \"Không thể thêm\"));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"model-add-movie card shadow-lg p-4\" style={{maxWidth: 480}}>\r\n        <h4 className=\"mb-3 text-center fw-bold text-primary\">\r\n          <FaPlus className=\"me-2\" />\r\n          Thêm Tác Giả/Diễn Viên\r\n        </h4>\r\n        \r\n        <form onSubmit={submit} className=\"row g-3\">\r\n          <div className=\"col-12\">\r\n            <label className=\"form-label fw-semibold\">\r\n              <FaUser className=\"me-1\" /> Tên tác giả/diễn viên\r\n            </label>\r\n            <input \r\n              type=\"text\"\r\n              className=\"form-control\" \r\n              value={name} \r\n              onChange={e=>setName(e.target.value)}\r\n              placeholder=\"Nhập tên...\"\r\n              required\r\n              maxLength={100}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"col-12\">\r\n            <label className=\"form-label fw-semibold\">\r\n              <FaUserTie className=\"me-1\" /> Vai trò\r\n            </label>\r\n            <select \r\n              className=\"form-select\" \r\n              value={role} \r\n              onChange={e=>setRole(e.target.value)}\r\n            >\r\n              <option value=\"DIRECTOR\">Đạo diễn</option>\r\n              <option value=\"PERFORMER\">Diễn viên</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"col-12 d-flex gap-2 mt-4\">\r\n            <button \r\n              className=\"btn btn-primary flex-fill fw-bold\" \r\n              type=\"submit\" \r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                  Đang thêm...\r\n                </>\r\n              ) : (\r\n                \"Thêm mới\"\r\n              )}\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-secondary flex-fill fw-bold\" \r\n              onClick={onClose}\r\n              disabled={loading}\r\n            >\r\n              Hủy\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ModelAddAuthor","_ref","onClose","onSuccess","name","setName","useState","role","setRole","loading","setLoading","_jsx","className","children","_jsxs","style","maxWidth","FaPlus","onSubmit","async","e","preventDefault","trim","AuthorService","createAuthor","authorRole","movieId","toast","success","error","message","FaUser","type","value","onChange","target","placeholder","required","maxLength","FaUserTie","disabled","_Fragment","onClick"],"sourceRoot":""}