"use strict";(self.webpackChunkfrontendcartoon=self.webpackChunkfrontendcartoon||[]).push([[52],{9052:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var n=l(5043),a=l(3091),t=l(2115),i=l(3204),r=(l(5759),l(579));function o(e){let{author:s,onClose:l,onSuccess:o}=e;const[c,d]=(0,n.useState)((null===s||void 0===s?void 0:s.name)||""),[m,h]=(0,n.useState)((null===s||void 0===s?void 0:s.authorRole)||"DIRECTOR"),[u,x]=(0,n.useState)(!1);return(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"model-add-movie card shadow-lg p-4",style:{maxWidth:480},children:[(0,r.jsxs)("h4",{className:"mb-3 text-center fw-bold text-primary",children:[(0,r.jsx)(i.x$1,{className:"me-2"}),"S\u1eeda T\xe1c Gi\u1ea3/Di\u1ec5n Vi\xean"]}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim()){x(!0);try{await a.A.updateAuthor(s.authorId,{name:c.trim(),role:m}),t.oR.success("C\u1eadp nh\u1eadt t\xe1c gi\u1ea3 th\xe0nh c\xf4ng!"),null===o||void 0===o||o()}catch(l){String(l).includes("409")||String(l).includes("Duplicate")?t.oR.error("\u0110\xe3 t\u1ed3n t\u1ea1i t\xe1c gi\u1ea3 v\u1edbi t\xean v\xe0 vai tr\xf2 n\xe0y!"):t.oR.error("L\u1ed7i c\u1eadp nh\u1eadt: "+((null===l||void 0===l?void 0:l.message)||"Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt"))}finally{x(!1)}}else t.oR.error("Vui l\xf2ng nh\u1eadp t\xean!")},className:"row g-3",children:[(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold",children:[(0,r.jsx)(i.x$1,{className:"me-1"})," T\xean t\xe1c gi\u1ea3/di\u1ec5n vi\xean"]}),(0,r.jsx)("input",{type:"text",className:"form-control",value:c,onChange:e=>d(e.target.value),placeholder:"Nh\u1eadp t\xean...",required:!0,maxLength:100})]}),(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold",children:[(0,r.jsx)(i.p7b,{className:"me-1"})," Vai tr\xf2"]}),(0,r.jsxs)("select",{className:"form-select",value:m,onChange:e=>h(e.target.value),children:[(0,r.jsx)("option",{value:"DIRECTOR",children:"\u0110\u1ea1o di\u1ec5n"}),(0,r.jsx)("option",{value:"PERFORMER",children:"Di\u1ec5n vi\xean"})]})]}),(0,r.jsxs)("div",{className:"col-12 d-flex gap-2 mt-4",children:[(0,r.jsx)("button",{className:"btn btn-primary flex-fill fw-bold",type:"submit",disabled:u,children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"\u0110ang c\u1eadp nh\u1eadt..."]}):"C\u1eadp nh\u1eadt"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary flex-fill fw-bold",onClick:l,disabled:u,children:"H\u1ee7y"})]})]})]})})}}}]);
//# sourceMappingURL=52.b44f52ec.chunk.js.map